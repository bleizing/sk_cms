<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org" 
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
	
<head th:replace="sections/head :: head(${title})">
</head>

<body class="hold-transition skin-blue sidebar-mini">

<style>
  .mark-mandatory{
    color: red;
  }
  .li-first{
    display: none;
  }
</style>

<script>
  var _ctx = "${ctx }";
  function check_int(evt) {
      var charCode = ( evt.which ) ? evt.which : event.keyCode;
      return ( charCode >= 48 && charCode <= 57 || charCode == 8 || charCode == 46 );
  }

  function check_char(evt) {
      evt = (evt) ? evt : window.event;
      var charCode = (evt.which) ? evt.which : evt.keyCode;

      return((charCode > 47 && charCode < 58)||(charCode > 64 && charCode < 91)||(charCode > 96 && charCode < 123)||charCode == 0 || charCode == 8 || charCode == 46 );

  }
    function setActiveMenu(id, menu) {
        var menuDoc = document.getElementById("menu"+id);
        menuDoc.setAttribute("class", "treeview menu-open");
        var treeDoc = document.getElementById("treeMenu"+id);
        treeDoc.setAttribute("style", "display: block");

        var activeMenu = document.getElementById("li-"+menu);
            activeMenu.setAttribute("class", "active")
        console.log(menu);
    }

    function checkValue(evt, obj) {
      var _value = obj.value;
      var _isPercent = document.getElementById("inpPromoType").value;
      var charCode = ( evt.which ) ? evt.which : event.keyCode;
      var _aslicode =  String.fromCharCode(charCode);


      if(charCode >= 48 && charCode <= 57 || charCode == 8 || charCode == 46){

          console.log(_value+_aslicode);
          if(_isPercent == 0){
              if(_value > 100){
                  obj.value = 100;
                  return false;
              }
          }
      }else{
          return false;
      }
    }
  var DEFAULT_BUTTON_CONFIRM = {};
  var params_confirm = {};
      params_confirm["label"] = "Ya";
      params_confirm["className"] = "btn-success";

      DEFAULT_BUTTON_CONFIRM["confirm"] = params_confirm;
  var params_cancel = {};
      params_cancel["label"] = "Tidak";
      params_cancel["className"] = "btn-danger";
      DEFAULT_BUTTON_CONFIRM["cancel"] = params_cancel;   
      
      function dologout() {
          JSON.post("${ctx }/json/logout", {},function(data){
              window.location.href = "${ctx }/pages/login";

          },null, 20000);
      }

</script>
<div class="wrapper">



  <div class="content-wrapper">

    <section class="content-header">
      <h1>
        <dec:title/>

        
      </h1>


    </section>


    <section class="content container-fluid">

     	<dec:body/>

    </section>

  </div>

  <footer class="main-footer">

    <div class="pull-right hidden-xs">
     BRI
    </div>

    <strong>Copyright &copy; 2018 <a href="#">BRI </a>.</strong> All rights reserved.
  </footer>




  <div class="control-sidebar-bg"></div>
</div>
<dec:getProperty property="page.local_script"></dec:getProperty>
<script src="${ctx }/assets/admin/js/adminlte.min.js"></script>

<script>
    var ROLE_GROUP = ${ctxArrayRole };

    function displayMenu(){
        var _groupName = '${sessionGroupName}';

/*         if(_groupName == "SYSADMIN"){
            $('.li-first').removeClass("li-first");
            return;
        } */
        $('.menu-display').css("display", "none");
        var data = ROLE_GROUP;

        for(var i=0; i<data.length; i++){
            var _tree = data[i]["tree"];
            $("#menu"+_tree).css("display","block");
            $("#treeMenu"+_tree).removeAttr("style");
            $('.li-'+data[i].role).css("display","block");
            $('.btnli-'+data[i].role).removeClass("li-first");
        }
    }
    
    function convertToAngka(nominal)
    {
        var angka = parseInt(nominal.replace(/,.*|[^0-9]/g, ''), 10);
        return angka;
    }
    function toIdr(number) {
        var reverse = parseInt(number, 10).toString().split('').reverse().join('');
        var rev2 = '';
        for (var i = 0; i < reverse.length; i++) {
            rev2 += reverse[i];
            if ((i + 1) % 3 === 0 && i !== (reverse.length - 1)) {
                rev2 += '.';
            }
        }
        return rev2.split('').reverse().join('');
    }
    $(".rpformat").keyup(function (){

        separator = ".";
        a = $(this).val();
        areal = a;
        b = a.replace(/[^\d]/g,"");
        c = "";
        panjang = b.length;
        j = 0;
        for (i = panjang; i > 0; i--) {
            j = j + 1;
            if (((j % 3) == 1) && (j != 1)) {
                c = b.substr(i-1,1) + separator + c;
            } else {
                c = b.substr(i-1,1) + c;
            }
        }
        $(this).val(c);
        $(this).attr("data-real", convertToAngka(c));
    });
    
    displayMenu();
</script>
</body>
</html>